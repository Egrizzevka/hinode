---
import { getCollection } from "astro:content";
import { DateTime } from "luxon";

import Default from "@layouts/Default.astro";

const materiEntries = await getCollection("materi");

const sorted = materiEntries.sort((a, b) =>
  DateTime.fromFormat(b.data.created_at, "yyyy-M-d") >
  DateTime.fromFormat(a.data.created_at, "yyyy-M-d")
    ? 1
    : -1,
);
---

<Default
  title="List semua materi hinode"
  description="Halaman yang menampilkan semua materi yang pernah dibuat"
>
  <div class="flex flex-col">
    {
      sorted.map((lesson) => (
        <a href={`/materi/${lesson.slug}`}>{lesson.data.title}</a>
      ))
    }
  </div>
</Default>
